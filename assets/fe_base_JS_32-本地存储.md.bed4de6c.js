import{_ as s,c as a,o,V as n}from"./chunks/framework.9b53f02e.js";const A=JSON.parse('{"title":"课程简介","description":"","frontmatter":{},"headers":[],"relativePath":"fe_base/JS/32-本地存储.md","filePath":"fe_base/JS/32-本地存储.md","lastUpdated":1684136293000}'),l={name:"fe_base/JS/32-本地存储.md"},p=n(`<h1 id="课程简介" tabindex="-1">课程简介 <a class="header-anchor" href="#课程简介" aria-label="Permalink to &quot;课程简介&quot;">​</a></h1><blockquote><p>Cookie</p><p>localStorage</p></blockquote><h1 id="cookie" tabindex="-1">cookie <a class="header-anchor" href="#cookie" aria-label="Permalink to &quot;cookie&quot;">​</a></h1><h3 id="cookie-1" tabindex="-1">Cookie <a class="header-anchor" href="#cookie-1" aria-label="Permalink to &quot;Cookie&quot;">​</a></h3><blockquote><p>初识 Cookie</p><p><strong>Cookie 的基本用法</strong></p><p><strong>Cookie 的属性</strong></p><p><strong>Cookie 的封装</strong></p><p>Cookie 的注意事项</p></blockquote><h3 id="localstorage" tabindex="-1">localStorage <a class="header-anchor" href="#localstorage" aria-label="Permalink to &quot;localStorage&quot;">​</a></h3><blockquote><p><strong>初识 localStorage</strong></p><p>localStorage 的注意事项</p></blockquote><h2 id="_1-初识-cookie" tabindex="-1">1.初识 Cookie <a class="header-anchor" href="#_1-初识-cookie" aria-label="Permalink to &quot;1.初识 Cookie&quot;">​</a></h2><blockquote><p>Cookie 是什么</p><p>Cookie 有什么用</p><p>在浏览器中操作 Cookie</p></blockquote><h3 id="_1-cookie-是什么" tabindex="-1">1.Cookie 是什么 <a class="header-anchor" href="#_1-cookie-是什么" aria-label="Permalink to &quot;1.Cookie 是什么&quot;">​</a></h3><p>设想一下 我们访问一个中英文网站 第一次英文 我们修改为中文 第二次继续访问 就是中文了 不用在手动切换 一种比较简单的做法就是使用 cookie</p><blockquote><p>Cookie 全称 HTTP Cookie，简称 Cookie</p><p>是浏览器存储数据的一种方式</p><p>因为存储在<strong>用户本地</strong>，而不是存储在服务器上，是<strong>本地存储</strong></p><p>一般会<strong>自动随着浏览器每次请求发送</strong>到服务器端</p></blockquote><p>利用 cookie 的这些特点 和上面描述的中英文网站的需求非常贴合 当我们修改语言的时候 我们可以把修改的结果放在 cookie 中</p><p>下次再打开网站 cookie 随着 HTTP 请求发送到服务器 服务器端就能知道你选择的语言发送给你</p><h3 id="_2-cookie-有什么用" tabindex="-1">2.Cookie 有什么用 <a class="header-anchor" href="#_2-cookie-有什么用" aria-label="Permalink to &quot;2.Cookie 有什么用&quot;">​</a></h3><blockquote><p>利用 Cookie 跟踪统计用户访问该网站的习惯，</p><p>比如什么时间访问，访问了哪些页面，在每个网页的停留时间等</p></blockquote><p>一方面更好为用户提供个性化服务 另一方面也可以更加了解用户行为的工具 对于网站经营策略是有一定价值的 有一些国外的网站会明确提示你使用了 cookie 是否继续使用 你在浏览某网页的时候可以使用 cookie 记录下你的浏览习惯 随着下一次访问 cookie 会随着请求发送的到服务器端,服务器端接收到了 会根据你的习惯调整网页的内容 将你感兴趣的放在前面</p><h3 id="_3-在浏览器中操作-cookie" tabindex="-1">3.在浏览器中操作 Cookie <a class="header-anchor" href="#_3-在浏览器中操作-cookie" aria-label="Permalink to &quot;3.在浏览器中操作 Cookie&quot;">​</a></h3><blockquote><p>不要在 Cookie 中保存密码等敏感信息</p></blockquote><p><a href="https://imgchr.com/i/DvO6cd" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DvO6cd.png" alt="DvO6cd.png"></a><strong>](<a href="https://imgchr.com/i/BHQrRJ" target="_blank" rel="noreferrer">https://imgchr.com/i/BHQrRJ</a>)</strong></p><p><strong>当我重新刷新页面的时候 cookie 会随着请求放送到服务端</strong></p><p><a href="https://imgchr.com/i/DvO7cj" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DvO7cj.png" alt="DvO7cj.png"></a></p><p><strong>如何获取 cookie?</strong></p><p><a href="https://imgchr.com/i/BHQWdK" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/BHQWdK.png" alt="BHQWdK.png"></a></p><p><strong>可以设置和获取多个 cookie</strong></p><p><a href="https://imgchr.com/i/DvXEE6" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DvXEE6.png" alt="DvXEE6.png"></a></p><p><a href="https://imgchr.com/i/DvXn8e" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DvXn8e.png" alt="DvXn8e.png"></a></p><h2 id="_3-cookie-的基本用法" tabindex="-1">3.Cookie 的基本用法 <a class="header-anchor" href="#_3-cookie-的基本用法" aria-label="Permalink to &quot;3.Cookie 的基本用法&quot;">​</a></h2><ul><li>写入 Cookie</li><li>读取 Cookie</li></ul><h3 id="_1-写入-cookie" tabindex="-1">1.写入 Cookie <a class="header-anchor" href="#_1-写入-cookie" aria-label="Permalink to &quot;1.写入 Cookie&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username=yunmu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">age=18</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//不能一起设置，只能一个一个设置</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username=zs; age=18</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_2-读取-cookie" tabindex="-1">2.读取 Cookie <a class="header-anchor" href="#_2-读取-cookie" aria-label="Permalink to &quot;2.读取 Cookie&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//读取的是一个由名值对构成的字符串，每个名值对之间由“; ”（一个分号和一个空格）隔开</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//只能一次性全部读取出来</span></span></code></pre></div><h2 id="_4-cookie-的属性" tabindex="-1">4.Cookie 的属性 <a class="header-anchor" href="#_4-cookie-的属性" aria-label="Permalink to &quot;4.Cookie 的属性&quot;">​</a></h2><ul><li><strong>Cookie 的名称(Name)和值(Value)</strong></li><li><strong>失效（到期)）时间</strong></li><li>Domain 域</li><li>Path 路径</li><li>HttpOnly</li><li>Secure</li></ul><h3 id="_1-cookie-的名称-name-和值-value" tabindex="-1">1.Cookie 的名称（Name）和值（Value） <a class="header-anchor" href="#_1-cookie-的名称-name-和值-value" aria-label="Permalink to &quot;1.Cookie 的名称（Name）和值（Value）&quot;">​</a></h3><blockquote><p>最重要的两个属性，创建 Cookie 时必须填写，其它属性可以使用默认值</p><p>Cookie 的名称或值如果包含非英文字母，</p><p>则写入时需要使用 encodeURIComponent() 编码，</p><p>读取时使用 decodeURIComponent() 解码</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">username=</span><span style="color:#89DDFF;">\${</span><span style="color:#82AAFF;">encodeURIComponent</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">云牧</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#82AAFF;">encodeURIComponent</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">用户名</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">=</span><span style="color:#89DDFF;">\${</span><span style="color:#82AAFF;">encodeURIComponent</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">云牧</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//一般名称使用英文字母，不要用中文，值可以用中文，但是要编码</span></span></code></pre></div><p><a href="https://imgchr.com/i/DxCqKS" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxCqKS.png" alt="DxCqKS.png"></a></p><p>当我们能通过 name 读取 vlaue 的时候 再进行解码使用</p><h3 id="_2-失效-到期-时间" tabindex="-1">2.失效（到期）时间 <a class="header-anchor" href="#_2-失效-到期-时间" aria-label="Permalink to &quot;2.失效（到期）时间&quot;">​</a></h3><blockquote><p>对于失效的 Cookie，会被浏览器清除</p><p>如果没有设置失效（到期）时间，这样的 Cookie 称为<strong>会话 Cookie</strong></p><p>它存在内存中，当会话结束，也就是<strong>浏览器关闭时，Cookie 消失</strong></p></blockquote><p><a href="https://imgchr.com/i/DxPlrD" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxPlrD.png" alt="DxPlrD.png"></a></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username=yunmu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 这就是会话 Cookie</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//想长时间存在，设置 expires 或 max-Age</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//expires</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//值为 Date 类型</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">username=yunmu; expires=</span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2100-1-1 00:00:00</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><a href="https://imgchr.com/i/Dxi8yT" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/Dxi8yT.png" alt="Dxi8yT.png"></a></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//max-age</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//值为数字，表示当前时间 + 多少秒后过期，单位是秒</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username=yunmu; max-age=10</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//只能存在十秒钟</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//如果我们想让他存在30天</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">username=yunmu; max-age=</span><span style="color:#89DDFF;">\${</span><span style="color:#F78C6C;">24</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3600</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//如果 max-age 的值是 0 或负数，则 Cookie 会被删除</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username=yunmu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username=yunmu; max-age=0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username=yunmu; max-age=-1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><a href="https://imgchr.com/i/Dxic0e" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/Dxic0e.png" alt="Dxic0e.png"></a></p><h3 id="_3-domain-域" tabindex="-1">3.Domain 域 <a class="header-anchor" href="#_3-domain-域" aria-label="Permalink to &quot;3.Domain 域&quot;">​</a></h3><blockquote><p>Domain 限定了访问 Cookie 的范围（不同域名）</p></blockquote><p><a href="https://imgchr.com/i/DxAsXV" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxAsXV.png" alt="DxAsXV.png"></a></p><p><a href="https://imgchr.com/i/DxEvaF" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxEvaF.png" alt="DxEvaF.png"></a></p><p><a href="https://imgchr.com/i/DxEx54" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxEx54.png" alt="DxEx54.png"></a></p><p><a href="https://imgchr.com/i/DxVFr6" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxVFr6.md.png" alt="DxVFr6.md.png"></a></p><p><a href="https://imgchr.com/i/DxVQMt" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxVQMt.png" alt="DxVQMt.png"></a></p><p><strong>pc 和移动合起来是 bilili 的整个官网 这是两个子网站 我们想设置一个 cookie 让整个站点都能访问</strong></p><p><a href="https://imgchr.com/i/DxVbJH" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxVbJH.png" alt="DxVbJH.png"></a></p><p><strong>使用 JS 只能读写当前域或父域的 Cookie，无法读写其他域的 Cookie</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username=yunmu; domain=www.bilibili.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//www.imooc.com m.imooc.com 当前域</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//父域：.imooc.com</span></span></code></pre></div><p><a href="https://imgchr.com/i/DxecvR" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxecvR.png" alt="DxecvR.png"></a></p><h3 id="_4-path-路径" tabindex="-1">4.Path 路径 <a class="header-anchor" href="#_4-path-路径" aria-label="Permalink to &quot;4.Path 路径&quot;">​</a></h3><blockquote><p>Path 限定了访问 Cookie 的范围（同一个域名下）</p></blockquote><p><a href="https://imgchr.com/i/Dx1m0s" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/Dx1m0s.png" alt="Dx1m0s.png"></a></p><p><a href="https://imgchr.com/i/Dx1Kkq" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/Dx1Kkq.png" alt="Dx1Kkq.png"></a></p><p><strong>同一个域名 后面的路径不一样</strong></p><p>同一个域名下默认设置的都是根目录 所以我们都能访问到</p><p><a href="https://imgchr.com/i/Dx1rcD" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/Dx1rcD.png" alt="Dx1rcD.png"></a></p><p>如果我们要限定 cookie 在特定的路径下访问</p><p><a href="https://imgchr.com/i/Dx3CDJ" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/Dx3CDJ.png" alt="Dx3CDJ.png"></a></p><p><strong>里层目录可以访问到上层目录</strong></p><p>使用 JS 只能读写当前路径和上级路径的 Cookie，无法读写下级路径的 Cookie</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username=yunmu; path=/course/list</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username=yunmu; path=/code</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><strong>当 Name、Domain、Path 这 3 个字段都相同的时候，才是同一个 Cookie</strong></p><h3 id="_5-httponly" tabindex="-1">5.HttpOnly <a class="header-anchor" href="#_5-httponly" aria-label="Permalink to &quot;5.HttpOnly&quot;">​</a></h3><blockquote><p>设置了 HttpOnly 属性的 Cookie 不能通过 JS 去访问</p></blockquote><p><a href="https://imgchr.com/i/DxY4OO" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxY4OO.png" alt="DxY4OO.png"></a></p><p><a href="https://imgchr.com/i/DxYj6f" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxYj6f.png" alt="DxYj6f.png"></a></p><h3 id="_6-secure-安全标志" tabindex="-1">6.Secure 安全标志 <a class="header-anchor" href="#_6-secure-安全标志" aria-label="Permalink to &quot;6.Secure 安全标志&quot;">​</a></h3><blockquote><p>Secure 限定了只有在使用了 https 而不是 http 的情况下才可以发送给服务端</p></blockquote><p><a href="https://imgchr.com/i/DxtgHg" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxtgHg.png" alt="DxtgHg.png"></a></p><p><a href="https://imgchr.com/i/DxNmxP" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/DxNmxP.png" alt="DxNmxP.png"></a></p><h2 id="_5-cookie-的封装" tabindex="-1">5.Cookie 的封装 <a class="header-anchor" href="#_5-cookie-的封装" aria-label="Permalink to &quot;5.Cookie 的封装&quot;">​</a></h2><ul><li><p>封装 Cookie</p></li><li><p>使用封装好的 Cookie 实现网站语言切换</p></li></ul><p><strong>封装 写入 读取 删除</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 写入 Cookie</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> set </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">maxAge</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">path</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">secure</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{})</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cookieText</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#82AAFF;">encodeURIComponent</span><span style="color:#A6ACCD;">(name)</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">=</span><span style="color:#89DDFF;">\${</span><span style="color:#82AAFF;">encodeURIComponent</span><span style="color:#A6ACCD;">(value)</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">maxAge</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cookieText</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">; max-age=</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">maxAge</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">domain</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cookieText</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">; domain=</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">path</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cookieText</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">; path=</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">secure</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cookieText</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">; secure</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cookieText</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// document.cookie=&#39;username=alex; max-age=5; domain=&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 通过 name 获取 cookie 的值</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> get </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#82AAFF;">encodeURIComponent</span><span style="color:#A6ACCD;">(name)</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cookies</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">; </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">of</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cookies</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">cookieName</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cookieValue</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">cookieName</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">decodeURIComponent</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">cookieValue</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 根据 name、domain 和 path 删除 Cookie</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> remove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">path</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{})</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">set</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">domain</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> maxAge</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">set</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">get</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">remove</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 使用封装好的 Cookie 实现网站语言切换</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">中文</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">en</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">英文</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">module</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    import </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> from &quot;./index.js&quot;;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">const cnBtn = document.getElementById(&quot;cn&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">const enBtn = document.getElementById(&quot;en&quot;);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console.log(document.cookie);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">cnBtn.onclick = function()</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">language</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">maxAge</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">3600</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">location</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reload</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">enBtn.onclick = function()</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">language</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">en</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">maxAge</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">3600</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">location</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reload</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="_6-cookie-的注意事项" tabindex="-1">6.Cookie 的注意事项 <a class="header-anchor" href="#_6-cookie-的注意事项" aria-label="Permalink to &quot;6.Cookie 的注意事项&quot;">​</a></h2><h3 id="_1-前后端都可以创建-cookie" tabindex="-1">1.前后端都可以创建 Cookie <a class="header-anchor" href="#_1-前后端都可以创建-cookie" aria-label="Permalink to &quot;1.前后端都可以创建 Cookie&quot;">​</a></h3><h3 id="_2-cookie-有数量限制" tabindex="-1">2.Cookie 有数量限制 <a class="header-anchor" href="#_2-cookie-有数量限制" aria-label="Permalink to &quot;2.Cookie 有数量限制&quot;">​</a></h3><blockquote><p>每个域名下的 Cookie 数量有限</p><p>当超过单个域名限制之后，再设置 Cookie，浏览器就会清除以前设置的 Cookie</p></blockquote><h3 id="_3-cookie-有大小限制" tabindex="-1">3.Cookie 有大小限制 <a class="header-anchor" href="#_3-cookie-有大小限制" aria-label="Permalink to &quot;3.Cookie 有大小限制&quot;">​</a></h3><blockquote><p>每个 Cookie 的存储容量很小，最多只有 4KB 左右</p></blockquote><h1 id="localstorage-1" tabindex="-1">localStorage <a class="header-anchor" href="#localstorage-1" aria-label="Permalink to &quot;localStorage&quot;">​</a></h1><h2 id="_1-初识-localstorage" tabindex="-1">1.初识 localStorage <a class="header-anchor" href="#_1-初识-localstorage" aria-label="Permalink to &quot;1.初识 localStorage&quot;">​</a></h2><ul><li>localStorage 是什么</li><li>在浏览器中操作 localStorage</li><li><strong>localStorage 的基本用法</strong></li><li>使用 localStorage 实现自动填充</li></ul><h3 id="_1-localstorage-是什么" tabindex="-1">1.localStorage 是什么 <a class="header-anchor" href="#_1-localstorage-是什么" aria-label="Permalink to &quot;1.localStorage 是什么&quot;">​</a></h3><blockquote><p>localStorage 也是一种浏览器存储数据的方式（本地存储），它只是存储在本地，不会发送到服务器端</p><p>单个域名下的 localStorage 总大小有限制</p></blockquote><h3 id="_2-在浏览器中操作-localstorage" tabindex="-1">2.在浏览器中操作 localStorage <a class="header-anchor" href="#_2-在浏览器中操作-localstorage" aria-label="Permalink to &quot;2.在浏览器中操作 localStorage&quot;">​</a></h3><p><a href="https://imgchr.com/i/Bvgy6K" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/Bvgy6K.png" alt="Bvgy6K.png"></a></p><h3 id="_3-localstorage-的基本用法" tabindex="-1">3.localStorage 的基本用法 <a class="header-anchor" href="#_3-localstorage-的基本用法" aria-label="Permalink to &quot;3.localStorage 的基本用法&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(localStorage)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//setItem()</span></span>
<span class="line"><span style="color:#A6ACCD;">localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">yunmu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//同名覆盖</span></span>
<span class="line"><span style="color:#A6ACCD;">localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xiyan</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sex</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">female</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//length</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//getItem()</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//获取不存在的返回 null</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//removeItem()</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//删除不存在的 key，不报错</span></span>
<span class="line"><span style="color:#A6ACCD;">localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//clear()  全部删除</span></span>
<span class="line"><span style="color:#A6ACCD;">localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clear</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(localStorage)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_4-使用-localstorage-实现自动填充" tabindex="-1">4.使用 localStorage 实现自动填充 <a class="header-anchor" href="#_4-使用-localstorage-实现自动填充" aria-label="Permalink to &quot;4.使用 localStorage 实现自动填充&quot;">​</a></h3><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">form</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">login</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">action</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://www.baidu.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">method</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">password</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">password</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">submit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">btn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">value</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">登录</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">form</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  &lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> loginForm </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">login</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> btn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">btn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> username </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (username) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">loginForm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">username</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">username</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    btn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">//阻止提交</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">preventDefault</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 数据验证</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">loginForm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">username</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">loginForm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">username</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">loginForm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><h3 id="_5-localstorage-的注意事项" tabindex="-1">5.localStorage 的注意事项 <a class="header-anchor" href="#_5-localstorage-的注意事项" aria-label="Permalink to &quot;5.localStorage 的注意事项&quot;">​</a></h3><ul><li>localStorage 的存储期限</li><li><strong>localStorage 键和值的类型</strong></li><li>不同域名下能否共用 localstorage</li><li>localStorage 的兼容性</li></ul><h2 id="_2-localstorage-的存储期限" tabindex="-1">2.localStorage 的存储期限 <a class="header-anchor" href="#_2-localstorage-的存储期限" aria-label="Permalink to &quot;2.localStorage 的存储期限&quot;">​</a></h2><h3 id="_1-localstorage-的存储期限" tabindex="-1">1.localStorage 的存储期限 <a class="header-anchor" href="#_1-localstorage-的存储期限" aria-label="Permalink to &quot;1.localStorage 的存储期限&quot;">​</a></h3><blockquote><p>localStorage 是持久化的本地存储，除非手动清除（比如通过 js 删除，或者清除浏览器缓存），否则</p><p>数据是永远不会过期的</p></blockquote><p><strong>sessionStorage</strong></p><blockquote><p>当会话结束（比如关闭浏览器）的时候，sessionStorage 中的数据会被清空</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sessionStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">yunmu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">sessionStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">sessionStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">sessionStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clear</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(sessionStorage</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_2-localstorage-键和值的类型" tabindex="-1">2.localStorage 键和值的类型 <a class="header-anchor" href="#_2-localstorage-键和值的类型" aria-label="Permalink to &quot;2.localStorage 键和值的类型&quot;">​</a></h3><blockquote><p>localStorage 存储的键和值只能是字符串类型</p><p>不是字符串类型，也会先转化成字符串类型再存进去</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[object Object]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[object Object]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">localStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">students</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_3-不同域名下能否共用-localstorage" tabindex="-1">3.不同域名下能否共用 localStorage <a class="header-anchor" href="#_3-不同域名下能否共用-localstorage" aria-label="Permalink to &quot;3.不同域名下能否共用 localStorage&quot;">​</a></h3><blockquote><p>不同的域名是不能共用 localStorage 的</p></blockquote><h3 id="_4-localstorage-的兼容性" tabindex="-1">4.localStorage 的兼容性 <a class="header-anchor" href="#_4-localstorage-的兼容性" aria-label="Permalink to &quot;4.localStorage 的兼容性&quot;">​</a></h3><blockquote><p>IE7 及以下版本不支持 localStorage，IE8 开始支持</p><p>caniuse.com</p></blockquote><h1 id="课程总结" tabindex="-1">课程总结 <a class="header-anchor" href="#课程总结" aria-label="Permalink to &quot;课程总结&quot;">​</a></h1><h2 id="cookie-2" tabindex="-1">Cookie <a class="header-anchor" href="#cookie-2" aria-label="Permalink to &quot;Cookie&quot;">​</a></h2><blockquote><p>浏览器存储数据的一种方式</p><p>存储在用户本地，而不是存储在服务器上</p><p>可以随着浏览器每次请求发送到服务器端</p></blockquote><h3 id="cookie-的用法" tabindex="-1">Cookie 的用法 <a class="header-anchor" href="#cookie-的用法" aria-label="Permalink to &quot;Cookie 的用法&quot;">​</a></h3><blockquote><p>写入 Cookie</p></blockquote><p><a href="https://imgchr.com/i/rShj7F" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/rShj7F.png" alt="rShj7F.png"></a></p><blockquote><p>读取 Cookie</p></blockquote><p><a href="https://imgchr.com/i/rS4P6x" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/rS4P6x.png" alt="rS4P6x.png"></a></p><h3 id="cookie-的属性" tabindex="-1">Cookie 的属性 <a class="header-anchor" href="#cookie-的属性" aria-label="Permalink to &quot;Cookie 的属性&quot;">​</a></h3><p><strong>名称( Name)和值（Value)</strong></p><blockquote><p>创建 Cookie 时必须填写，其它属性可以使用默认值</p><p>如果包含非英文字母，写入时要用 encodeURIComponent()编码</p><p>如果写入时编码，读取时要用 decodeURIComponent()解码</p></blockquote><p><strong>失效（到期)时间</strong></p><blockquote><p>失效的 Cookie，会被浏览器清除</p><p>如果没有设置失效时间，默认会话结束后，Cookie 会被清除</p><p>想 Cookie 长时间存在，可以设置 Expires 或 Max-Age</p></blockquote><blockquote><p>expires 值为 Date 类型，表示具体什么时间过期</p><p>max-age 值为数字，表示当前时间加多少秒后过期，单位是秒</p><p>如果设置 max-age 的值是 О 或负数，则 Cookie 会被删除</p></blockquote><p><strong>Domain</strong></p><blockquote><p>Domain 限定了访问 Cookie 的范围(不同域下)</p><p>使用 JS 只能写入/读取当前域或父域的 Cookie，无法写入/读取其他域的 Cookie</p></blockquote><p><strong>Path</strong></p><blockquote><p>Path 限定了访问 Cookie 的范围(同域不同路径下)</p><p>使用 JS 只能写入/读取当前路径和上级路径的 Cookie，无法写入/读取其他路径的 Cookie</p></blockquote><blockquote><p>当 Name、Domain、Path 这 3 个字段都相同的时候，才是同一个 Cookie</p></blockquote><p><strong>HttpOnly</strong></p><blockquote><p>前端不能通过 JS 去设置一个 HttpOnly 类型的 Cookie，这种类型的 Cookie 只能是后端来设置</p><p>只要是 HttpOnly 类型的，通过 document.cookie 是获取不到的，也不能进行修改</p></blockquote><p><strong>Secure</strong></p><blockquote><p>Secure 限定了只有在使用了 https 而不是 http 的情况下才可以发送给服务端</p></blockquote><blockquote><p>Domain、Path、Secure 都要满足条件，还不能过期的 Cookie 才能随着请求发送到服务器端</p></blockquote><h3 id="cookie-的注意事项" tabindex="-1">Cookie 的注意事项 <a class="header-anchor" href="#cookie-的注意事项" aria-label="Permalink to &quot;Cookie 的注意事项&quot;">​</a></h3><blockquote><p>前后端都可以写入和获取 Cookie</p><p>每个域名下的 Cookie 数量有限</p><p>每个 Cookie 的存储容量很小，最多只有 4KB 左右</p></blockquote><h2 id="localstorage-2" tabindex="-1">localStorage <a class="header-anchor" href="#localstorage-2" aria-label="Permalink to &quot;localStorage&quot;">​</a></h2><blockquote><p>浏览器存储数据的一种方式</p><p>存储在用户本地，不会发送到服务器端</p><p>单个域名下的总大小有限制(一般最大 5M 左右)</p></blockquote><h3 id="localstorage-的基本用法" tabindex="-1">localStorage 的基本用法 <a class="header-anchor" href="#localstorage-的基本用法" aria-label="Permalink to &quot;localStorage 的基本用法&quot;">​</a></h3><p><strong>setltem()</strong></p><p><a href="https://imgchr.com/i/rSIVWd" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/rSIVWd.png" alt="rSIVWd.png"></a></p><p><strong>getItem</strong></p><p><a href="https://imgchr.com/i/rSInyt" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/rSInyt.png" alt="rSInyt.png"></a></p><p><strong>removeItem</strong></p><p><a href="https://imgchr.com/i/rSItln" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/rSItln.png" alt="rSItln.png"></a></p><p><strong>clear</strong></p><p><a href="https://imgchr.com/i/rSIdmV" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/rSIdmV.png" alt="rSIdmV.png"></a></p><p><strong>length</strong></p><p><img src="https://raw.githubusercontent.com/xixixiaoyu/CloundImg2/main/image-20211226152446088.png" alt="image-20211226152446088"></p>`,155),e=[p];function t(c,r,D,y,F,i){return o(),a("div",null,e)}const u=s(l,[["render",t]]);export{A as __pageData,u as default};
